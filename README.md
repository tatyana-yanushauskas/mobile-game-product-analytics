# Продуктовая аналитика мобильной игры

**Заказчик:** Студия-разработчик мобильных игр  
**Задача:** Провести комплексный анализ игровых метрик, монетизации и поведения игроков для увеличения дохода и удержания аудитории.  
**Срок:** 2 недели  
**Стек:** PostgreSQL, оконные функции, CTE, джойны по диапазону дат

---

## Результат

- **Диагностика продукта:** рассчитаны ключевые метрики (DAU, WAU, MAU, Sticky Factor), выявлены аномалии в данных
- **Анализ монетизации:** построена динамика выручки по типам товаров, оценено влияние изменения цен на поведение игроков
- **Сегментация игроков:** определены «лояльные» сегменты (по тратам и приглашениям), проанализировано их поведение
- **Оценка вирусности:** рассчитан K-factor игры (0.15), спрогнозирован прирост аудитории за счёт реферальной системы
- **Проверка гипотез:** оценена эффективность нового канала привлечения (ноябрь–декабрь 2022) — игроки показали на 23% большую вовлечённость

---

## Ключевой запрос: анализ вирусности (K-factor)

```sql
/* Расчёт K-factor — показателя вирусности игры */
WITH referrals_agg AS (
    SELECT
        COUNT(DISTINCT u.id_user) AS total_users,
        SUM(COALESCE(r.ref_reg, 0)) AS total_registrations
    FROM game.users u
    LEFT JOIN game.referral r 
        ON u.id_user = r.id_user
)
SELECT 
    total_registrations::FLOAT / NULLIF(total_users, 0) AS k_factor
FROM referrals_agg;
